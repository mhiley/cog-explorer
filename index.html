<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>COG-Explorer</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/openlayers/4.6.5/ol-debug.css" type="text/css">
  </head>
  <body>

    <div id="map">
    </div>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="app.bundle.js"></script>

    <script type="text/javascript">

      $(window).on('load', function () {
        var map = CogAdapter.createMap("map");
        var adapter = new CogAdapter.CogAdapter(map);
        // discrete classes example
        var sceneId = 'https://syncarto-test.s3.amazonaws.com/5c07bd85-f228-40a8-8de0-4d8dbffee587/ImageClassifier_None_ee5a4bddb564e0b22dbaea60c5cf4091_COG.TIF?AWSAccessKeyId=AKIAJVS7YCUAOBLEXNPQ&Signature=MtqwiekuRPy8fXAKM0ll%2Fpz%2FEvs%3D&Expires=1564176339';
        // continuous ndvi example
        // var sceneId = 'https://syncarto-test.s3.amazonaws.com/eb17a19b-ad76-4fe4-b3ac-bacf574d7fe1/USER_EXP_c54e32234158765f3d73130f212e3b70_COG.TIF?AWSAccessKeyId=AKIAJVS7YCUAOBLEXNPQ&Signature=AG8VfRzIjhHKg9abYIKc42s95Hc%3D&Expires=1564176992';
        var samples = 1;
        var bands = new Map();
        for (var i = 0; i < samples; ++i) {
          bands.set(i, sceneId);
        }
        adapter.addSceneLayer({
          id: sceneId,
          bands: bands,
          redBand: 0,
          greenBand: 0,
          blueBand: 0,
          isSingle: true,
          hasOvr: false,
          isRGB: false,
          attribution: undefined,
          pipeline: [
              // this can be empty array, but here is example for gamma
              // see src/app.jsx for expected structure
              { operation: 'gamma',
                bands: 'all',
                value: 1.0,
              }
          ],
        });
      });
    </script>
  </body>
</html>
